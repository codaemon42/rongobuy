<ion-content [scrollEvents]="true">
  <ion-fab vertical="top" horizontal="end" slot="fixed">
    <ion-fab-button  color="danger" [routerLink]="['/carts']">
      <ion-icon name="cart"></ion-icon>
      <ion-badge class="cart-badge" color="warning">{{ totalCartQty }}</ion-badge>
    </ion-fab-button>
  </ion-fab>
  <ion-grid class="fullscreen ion-no-padding">
    <ion-toolbar>
      <ion-buttons slot="start">
        <ion-back-button color="light" defaultHref="tabs/home"></ion-back-button>
      </ion-buttons>
    </ion-toolbar>

  <ion-grid *ngIf="singleProduct">
    <ion-row>
      <ion-col class="title-wrapper ion-text-center" size="12" style="z-index: 15; margin-top: -20px">
        <ion-text color="light" class="title ion-text-center">{{ singleProduct.title }}</ion-text>
      </ion-col>
    </ion-row>
    <ion-row class="upper-part">
      <ion-col size="2"></ion-col>
      <ion-col size="10">
        <ion-slides pager="true" [options]="slideOpts">
          <!-- <ion-slide *ngFor="let image of singleProduct.images"> -->
          <ion-slide>
            <ion-img [src]="singleProduct.mainImage"></ion-img>
          </ion-slide>
          <ion-slide>
            <iframe width="560" height="315" src="https://www.youtube.com/embed/_aCeAMrh-wo" title="YouTube video player" frameborder="0" allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture" allowfullscreen></iframe>
          </ion-slide>

        </ion-slides>
      </ion-col>
    </ion-row>
    <ion-row class="bottom-part">
      <ion-col size="6" style="height:min-content">
        <!-- <ion-chip class="regular-price" color="primary" ><del>BDT {{singleProduct.regular_price}}</del></ion-chip> -->
        <ion-chip class="regular-price" color="success" >BDT {{singleProduct.productPrice}}</ion-chip>
      </ion-col>
      <ion-col size="6" class="ion-text-right ion-padding-right" style="height:min-content">
        <ion-chip color="success" class="stock">In stock</ion-chip>
        <div class="rating">
          <p-rating [(ngModel)]="rating" readonly="true" [cancel]="false"></p-rating>
        </div>
      </ion-col>
      <ion-col class="description">
        <ion-segment color="medium" value="description" (ionChange)="segmentChanged($event)">
          <ion-segment-button value="description">
            <ion-label>Description</ion-label>
          </ion-segment-button>
          <ion-segment-button value="reviews">
            <ion-label>Reviews</ion-label>
          </ion-segment-button>
        </ion-segment>
        <!-- review section -->
        <ion-grid *ngIf="segment === 'reviews'" >
          <ion-row>
            <ion-col size="12" *ngFor="let review of reviews">
              <div class="reviews">
                <div class="header">
                  <div class="name">
                    <ion-icon name="person"></ion-icon>{{ review.user_name }}
                  </div>
                  <div class="ratinng">
                    <p-rating [(ngModel)]="review.rating" readonly="true" [cancel]="false"></p-rating>
                  </div>
                </div>

                <div class="body">
                  <ion-text>
                    {{ review.review }}
                  </ion-text>
                </div>
              </div>
            </ion-col>
          </ion-row>
        </ion-grid>
        <ion-text *ngIf="segment === 'description'" color="medium">
          {{ singleProduct.description }}
        </ion-text>
      </ion-col>
    </ion-row>
  </ion-grid>



  </ion-grid>

  <ion-grid class="ion-no-padding">
    <ion-row class="actions">
      <ion-col size="6">
          <ion-button color="warning" expand="full" class="buy-now" [routerLink]="['/checkout']">Buy Now</ion-button>
      </ion-col>
      <ion-col size="6">
          <div class="square"></div>
          <ion-button color="danger" expand="full" class="add-to-cart" (click)="addToCart()">Add to cart</ion-button>
      </ion-col>
    </ion-row>
  </ion-grid>

</ion-content>
