<app-header [showSearch]="showSearch" (isLoadingSearch)="isLoading($event)" (searchTextFound)="onSearch($event)" [searchData]="searchData"></app-header>

<ion-content>
    <!-- full home page  -->
      <!-- [ngStyle]="{
        'background': 'url('+'https://i0.wp.com/www.cssscript.com/wp-content/uploads/2017/12/Animated-Particles-Background.png?fit=499%2C386&ssl=1'+')'
      }" -->
     <!-- *ngIf="homepage.length <= 0" -->
    <ion-grid
    *ngIf="homepage.length <= 0"
     >
      <ion-row>
        <ion-col>
          <ion-slides pager="true" scrollbar="true" [options]="slideOpts">
            <ion-slide *ngFor="let s of skeleton">
              <ion-skeleton-text animated style="width: 100%; height: 300px;"></ion-skeleton-text>
            </ion-slide>
          </ion-slides>
        </ion-col>
      </ion-row>
      <ion-row>
        <ion-col>
          <ion-slides class="emergency-slider" pager="true" scrollbar="false" [options]="emergencyCatSlider">
            <ion-slide *ngFor="let s of skeleton">
                <ion-skeleton-text animated style="width: 100%; height: 200px;"></ion-skeleton-text>
            </ion-slide>
          </ion-slides>
        </ion-col>
      </ion-row>

      <ion-row>
        <ion-col size="11" offset="0.5" *ngFor="let s of skeleton">
          <ion-skeleton-text animated style="width: 100%; height: 300px;"></ion-skeleton-text>
        </ion-col>
      </ion-row>

    </ion-grid>

    <ion-grid
      class="ion-no-padding" *ngFor="let homeSection of homepage; let homeIndex = index">
      <ion-row *ngIf="homeSection.isActive === 1">
        <ion-col>
          <div *ngIf="homeIndex" class="header-center">
            <span>
              {{ homeSection.sectionTitle }}
            </span>
          </div>
        </ion-col>
      </ion-row>
      <!-- main slider -->
      <ion-row *ngIf="homeSection.sectionType === 'slider' && homeSection.isActive === 1">
        <ion-col *ngIf="!homeIndex">
          <ion-slides [ngClass]="{'slider-margin': !mobileView}" pager="true" scrollbar="true" [options]="slideOpts">
            <ion-slide *ngFor="let slide of homeSection.sectioncontent;let i=index" (click)="sliderNavigate(i)">
              <ion-img [src]="slide.imageUrl+'_'+slide.width+'x'+slide.height+'.jpg'"></ion-img>
            </ion-slide>
          </ion-slides>
        </ion-col>
      </ion-row>
      <ion-row  *ngIf="homeSection.sectionType === 'emergency' && homeSection.isActive === 1">
        <ion-col>
          <ion-slides class="emergency-slider" pager="true" scrollbar="false" [options]="emergencyCatSlider">
            <ion-slide *ngFor="let emergency of homeSection.sectioncontent; let i = index">
                <!-- <div class="rb-emergency-info" [ngStyle]="{'background': 'var(--ion-color-'+colors[i]+')'}"> -->
                <div class="rb-emergency-info">
                  <div class="icon">
                    <img [src]="emergency.imageUrl" alt="icon">
                  </div>
                  <ion-label style="margin: 10px; text-align: left;">{{emergency.title}}</ion-label>
                </div>
            </ion-slide>
          </ion-slides>
        </ion-col>
      </ion-row>

      <!-- <ion-row *ngIf="!homeIndex">
        <ion-col>
          <ion-slides class="emergency-slider" pager="true" scrollbar="false" [options]="emergencyCatSlider">
            <ion-slide *ngFor="let emergency of emergencyInfo; let i = index">
                      <div class="rb-emergency-info" [ngStyle]="{'background': 'var(--ion-color-'+colors[i]+')'}">
                  <div class="icon">
                    <img [src]="emergency.link" alt="icon">
                    <ion-icon color="light" name="accessibility"></ion-icon>
                  </div>
                  <ion-label style="margin: 10px; text-align: left;">{{emergency.name}}</ion-label>
                </div>
            </ion-slide>
          </ion-slides>
        </ion-col>
      </ion-row> -->
<!-- https://media.rongobuy.com/p/product/e5h8yai2l36m47ckvot9uwbsxq0d1r.png -->
      <!-- other slider -->
      <ion-row *ngIf="homeSection.sectionType === 'slider' && homeSection.isActive === 1">
        <ion-col *ngIf="homeIndex" size="11" offset="0.5">
          <ion-slides class="cat-slider-2" pager="true" scrollbar="false" [options]="catSlider">
            <ion-slide *ngFor="let slide of homeSection.sectioncontent; let i = index">
              <ion-card [ngStyle]="{'background': 'var(--ion-color-'+colors[i+2]+')'}">
                <ion-img [src]="slide.imageUrl"></ion-img>
              </ion-card>
            </ion-slide>
          </ion-slides>
        </ion-col>
      </ion-row>


      <!-- category section -->
      <ion-row *ngIf="homeSection.sectionType === 'category' && homeSection.isActive === 1">
        <ion-col size="11" offset="0.5">
          <ion-slides #categorySlide class="cat-slider" pager="true" scrollbar="false" [options]="catSlider" (ionSlidesDidLoad)="catSliderLoaded($event)" (ionSlideNextStart)="catSliderLoaded($event)">
            <ion-slide *ngFor="let phoneCat of homeSection.sectioncontent; let i = index">
              <ion-card [ngStyle]="{'background': 'var(--ion-color-'+colors[i+2]+')'}">
                <ion-img [src]="phoneCat.imageUrl"></ion-img>
              </ion-card>
            </ion-slide>
          </ion-slides>
        </ion-col>
      </ion-row>

      <!-- Video section -->
      <ion-row *ngIf="homeSection.sectionType === 'video' && homeSection.isActive === 1">
        <ion-col size="11" offset="0.5" >
          <ion-slides class="cat-slider" pager="true" scrollbar="false" [options]="catSlider2" (ionSlidesDidLoad)="catSliderLoaded($event)" (ionSlideNextStart)="catSliderLoaded($event)">
            <ion-slide *ngFor="let videoContent of homeSection.sectioncontent; let i = index">
              <ion-card *ngIf="videoContent.imageUrl" [ngStyle]="{'background': 'var(--ion-color-'+colors[i+2]+')'}">
               <iframe width="100%" height="200" src="https://www.youtube.com/embed/{{videoContent.imageUrl}}" [title]="videoContent.title" frameborder="0" allowfullscreen ng-show="showvideo"></iframe>
              </ion-card>
            </ion-slide>
          </ion-slides>
        </ion-col>
      </ion-row>

      <!-- banner section -->
      <ion-row [ngStyle]="{'background-position-x.px': bannerBg.positionX}" class="bg-drops" *ngIf="homeSection.sectionType === 'banner' && homeSection.isActive === 1">
        <ion-col size="11" offset="0.5" *ngFor="let banner of homeSection.sectioncontent; let i = index">
          <div class="banner-images">
            <img
              [ngStyle]="{
                'border-radius.px': 10,
                'width.%': 100
              }"
              [src]="banner.imageUrl" >
          </div>
        </ion-col>
      </ion-row>
    </ion-grid>

    <!-- products -->

    <!-- chat section -->
      <ion-fab class="rb-chat-icon" vertical="bottom" horizontal="end" slot="fixed">
        <ion-fab-button color="warning" (click)="openAppUrl('facebook', 'rongobuy', '228677831034067')">
          <ion-icon name="chatbubbles"></ion-icon>
        </ion-fab-button>
      </ion-fab>
    <!-- full home page  /-->
    <!-- footer -->
    <app-footer></app-footer>
    <!-- footer /-->
</ion-content>


